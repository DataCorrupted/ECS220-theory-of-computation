
\subsection*{How to mail a matrix. (Textbook problem 2.18)}
    \begin{quote}
    Given a graph $G = (V, E)$ with $|V| = n$ vertices and $|E| = m$ edges, how many bits do we need to specify the adjacency matrix, and how many do we need to specify an adjacency list? 
Keep in mind that it takes $\log n$ bits to specify an integer between $1$ and $n$. When are each of these two formats preferable?

    In particular, compare sparse graphs where $m = O(n)$ with dense graphs where $m = \Theta(n^2)$. How do things change if we consider a multigraph, like the graph of the K\"{o}nigsberg bridges, where there can be more than one edge between a pair of points?
    \end{quote}

    \begin{solution}
        
        First of all, we know that the space complexity of an adjacency matrix is $O(n^2)$, while that of an adjacency list is $O(n+m)$. In an adjacency matrix we only need one bit to specify if there is an edge between node $i$ and node $j$($A_{ij} = 0$ for no edge between node $i$ and node $j$, $A_{ij} = 1$ for an edge between them), so we'll need $n^2$ bits to describe an adjacency matrix. In the adjacency list we need to store the index of the node, so $log(n)$ bits are required for each node. Therefore, we need $(n+m)log(n)$ bits to specify an adjacency list.
        
        When a graph is sparse, for example $m = O(n)$, the adjacency matrix is still going to take $n^2$ while wasting a lot of space to store no connection between nodes. In the mean time, the adjacency list can store connections more efficiently($O(n+n)$ will still be $O(n)$), so when a graph is sparse, a list representation would be preferable. On the other hand, if a graph is dense, both the adjacency matrix and the adjacency list need $O(n^2)$. But we can check the connection between two points in constant time in an adjacency matrix, so the adjacency matrix is preferable when the graph is dense.
        
        If a multigraph is considered, a single bit is not enough to store the connection between nodes in a adjacency matrix. If there are two edges between node $i$ and node $j$, $A_{ij}$ should be 2. So each element in the matrix requires more bits to specify. Assume there are at most $k$ edges between any two nodes in the graph, it should take $n^2log(k)$ bits to specify the matrix, and the adjacency matrix is similar to a weighted adjacency matrix. There will be duplicated nodes in the adjacency list for those edges connecting the same nodes. But it still takes $(n+m)log(n)$ to specify the adjacency list.
        
    \end{solution}
